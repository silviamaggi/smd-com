// ------------------------------------------------ \\
// $PATTERNS
// ------------------------------------------------ //

// Links and hover
%smd-link {
  color: $link-color;
  text-decoration: solid underline $link-decoration 4px;

  &:hover {
    color: $link-hover-color;
    text-decoration: solid underline $link-hover-decoration 4px;
    transition: text-decoration-color 0.2s ease-in;
  }
}

// Text shadow
%smd-tx-shadow {
  text-shadow: 0px 0px 0px #fff, 0 0 0 #000, 0px 1px 1px #fff;
}

// Labels bg
%btn-label-smd-bg {
  background-color: $background;

  &:hover {
    background-color: $background-d-70;
  }
}

// Labels hover behavior
%btn-label-smd {
  color: $link-d-70;
  background-color: $background-l-90;

  &:hover {
    color: $link-l-80 !important;
    transition: background-color 0.3s ease-in;
    background-color: $background-d-70;
  }
}

// ------------------------------------------------ \\
// $GENERAL
// ------------------------------------------------ //
html {
  border: 1rem solid $white;
}
body {
  background: $background-l-80 url('/assets/images/smd-bg-texture.jpg') no-repeat bottom left;
  background-size: 100% auto;
}


// ------------------------------------------------ \\
// $HEADINGS
// ------------------------------------------------ //
h2, h3, h4, h5, h6,
.h2, .h3, .h4, .h5, .h6 {
  margin-top: $spacer * 3;
}
h2, h3, h4, h5, h6,
.h2, .h3, .h4, .h5, .h6 {
  color: $heading-d-20;
}
h5, h6,
.h5, .h6 {
  text-transform: uppercase;
  letter-spacing: $letter-spacing-wide-1;
}


// ------------------------------------------------ \\
// $NAVIGATION
// ------------------------------------------------ //
.current {
  color: $link-d-40;
}
.previous-next-post-links {
  @extend %smd-tx-shadow;
}


// ------------------------------------------------ \\
// $TYPOGRAPHY
// ------------------------------------------------ //

%font-micro,
.font-micro {
  @include font-size($micro-font-size);
}


// ------------------------------------------------ \\
// $BACKGROUNDS
// ------------------------------------------------ //

%translucent-bg,
.translucent-bg {
  background: rgba($background-l-30, .3);
}


// ------------------------------------------------ \\
// $ENTRY
//
// Default container for posts and pages
// ------------------------------------------------ //

// Default entry font size
%entry-fs {
  font-size: rfs-fluid-value(18px);
}

// Default entry block
.entry {
  em {
    font-family: Georgia, 'Times New Roman', Times, serif;
  }
  // Entry block paragraphs
  p {
    text-align: justify;
    hyphens: auto;

    &:not(.lead) {
      @extend %entry-fs;
      line-height: 1.6;
      margin-bottom: 0;
      & + p {
        text-indent: $spacer*2;
      }
    }

    // Entry block lead paragraph
    &.lead {
      font-size: rfs-fluid-value(24px);
      line-height: 1.4;
      text-indent: 0;
      @include margin-top(32px);
      @include margin-bottom(32px);
    }

    // Entry block detached optional paragraph
    &.detached {
      text-indent: 0 !important;
      margin-top: $spacer*1.5;
    }
  }
  // Entry block blockquote
  blockquote {
    @extend .blockquote;
    width: 80%;
    quotes: "“" "”";
    line-height: 1.3;
    margin-top: $spacer*2;
    padding-left: $spacer*1.5;
    background: transparent url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='9' height='100%'%3E%3Cpath d='M7.84313 75.6586C7.60784 71.11 7.37255 66.5614 7.05882 61.937C6.58824 55.7205 6.03922 49.5041 5.4902 43.2877C4.86275 35.1001 4.2353 26.9884 3.68628 18.8009C3.29412 12.9636 3.05883 7.12616 2.7451 1.28877C2.66667 0.833912 2.58824 0.454861 2.50981 -2.83695e-07C1.96079 0.15162 1.33334 0.15162 0.941183 0.454861C0.627458 0.682292 0.392164 1.21296 0.313733 1.59201C0.15687 2.50174 7.48027e-06 3.41146 7.44382e-06 4.24537C0.0784384 9.17304 7.00972e-06 14.1765 0.313732 19.1042C1.09804 32.8258 1.96079 46.4717 2.82353 60.1933C3.05883 64.6661 3.45098 69.1389 3.60784 73.5359C3.84314 80.3589 4 87.1818 4.07843 94.0047C4.15686 101.586 4.23529 109.243 4.07843 116.824C3.92157 124.859 3.37255 132.895 3.05882 141.007C2.90196 144.343 2.82353 147.678 2.66667 151.09C2.43137 156.017 2.11765 160.869 1.80392 165.797C1.72549 166.555 1.80392 167.313 0.862745 167.768C0.156863 168.147 0.392157 168.754 1.01961 168.905C1.80392 169.057 2.66666 168.981 3.52941 168.981C5.80392 168.905 6.35294 168.526 6.66666 166.328C7.05882 163.75 7.21568 161.097 7.45097 158.443C7.45097 158.443 8.31372 141.841 8.62745 133.502C8.78431 129.332 8.94117 125.087 8.94117 120.917C9.0196 114.473 9.0196 108.03 8.94117 101.586C8.86274 96.8855 8.70588 92.1853 8.54902 87.485C8.39215 83.4671 8.07843 79.525 7.84313 75.6586Z' fill='%23d4c0b5'/%3E%3C/svg%3E") top left no-repeat;
    &::before {
      content: open-quote;
      font-size: $spacer*2;
      line-height: 1;
      color: $background-d-10;
      font-weight: bolder;
    }
    p {
      display: inline;
      text-indent: 0;
      
      &:first-child {
        margin-bottom: $spacer;
      }

      cite {
        display: block;
        text-indent: 0;
        margin-top: $spacer/2;
        font-family: Georgia, 'Times New Roman', Times, serif;
      }
    }
  }
  // Entry block link
  a {
    @extend %smd-link;
  }
  ol {
    list-style: none;
    counter-reset: smd-counter 0;
    width: 80%;
    margin-top: $spacer*1.5;
    padding-left: $spacer;
    li {
      @extend %entry-fs;
      counter-increment: smd-counter;
      line-height: 1.6;
      text-align: justify;
      hyphens: auto;
      padding-left: $spacer*.5;
      &::marker {
        font-family: $headings-font-family;
        content: counter(smd-counter) ".";
        color: $link-d-20;
        font-weight: bold;
      }
    }
  }
  // Entry block list element
  ul {
    margin: $spacer*1.5 0;

    li {
      @extend %entry-fs;
      line-height: 1.8;
      margin: 0;
    }
  }
  // Entry block mark element
  mark {
    &.highlight {
      border-radius: 1em 0 1em 0;
      background-image: linear-gradient(-100deg, rgba(255,224,0,0.3), rgba(255,224,0,0.7) 95%, rgba(255,224,0,0.1));
    }
  }
}


// ------------------------------------------------ \\
// $BREADCRUMBS
// ------------------------------------------------ //

.breadcrumb-item {
  letter-spacing: $letter-spacing-shrink;

  &:last-child {
    color: #777;
  }

  a {
    color: $link-color;
    text-decoration: solid underline $link-l-30 2px;

    &:hover {
      color: $link-hover-color;
      text-decoration: solid underline $link-hover-decoration 2px;
      transition: text-decoration-color 0.2s ease-in;
    }
  }
}


// ------------------------------------------------ \\
// $IMAGES
// ------------------------------------------------ //

img {
  max-width: 100%;
  height: auto;
}
figure {
  margin: auto;
}
figcaption {
  @extend .initialism;
}
hr {
  width: $spacer*5;
  text-align: center;
  margin: $spacer*3 auto;
}


// ------------------------------------------------ \\
// $LISTS
// ------------------------------------------------ //

.smd-ul {
  list-style-position: outside;
  margin: $spacer 0 $spacer*1.5 0;
  padding-left: $spacer;

  li {
    margin: .7rem 0;
    &::marker {
      color: $link-d-20;
    }
  }
}


// ------------------------------------------------ \\
// $EMBEDS
// ------------------------------------------------ //

.iframe-container {
  margin: ($spacer * 3) 0;
  padding-top: 56.25%; // 16:9 aspect ratio
  overflow: hidden;
  position: relative;

  iframe {
    border: 0;
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
  }
}
.twitter-tweet-rendered {
  margin-top: $spacer*3 !important;
}


// ------------------------------------------------ \\
// $NEWSLETTER
// ------------------------------------------------ //

.newsletter-subscription {
  // Inside the <header>
  .site-header & {
    padding-top: 0.5rem;
  }
}


// ------------------------------------------------ \\
// $HERO
// ------------------------------------------------ //

// Tagline
.smd-text-rotate {
  transform: rotate(359deg);
}


// ------------------------------------------------ \\
// $RELATED_POSTS
// ------------------------------------------------ //

.related-posts {
  @extend %translucent-bg;

  .h2 {
    @extend %smd-tx-shadow;
  }

  a {

    h4 {
      color: $link-d-70;
    }

    &:hover {
      color: $link-d-30;
      transition: color .2s ease-in;
      
      h4 {
        color: $link-d-30;
        transition: color .2s ease-in;
      }
    }
  }
}
.related-post {
  margin: 1.5rem 0;
  
  p {
    text-align: justify;
    hyphens: auto;
    margin-bottom: 0;
  }

  &:last-child {
    margin-bottom: 0;
  }
}


// ------------------------------------------------ \\
// $POST_META
// ------------------------------------------------ //

.post-taxonomy-label {
  @extend %btn-label-smd;
  font-size: $micro-font-size;
  padding: 0 0.4rem;
}


// ------------------------------------------------ \\
// $FOOTER
// ------------------------------------------------ //

.smd-footer-wrapper {
  background: rgba($background-l-30, .2);
}


// ------------------------------------------------ \\
// $BUTTONS
// ------------------------------------------------ //

// Default button
%btn-smd,
.btn-smd {
  color: $white;
  background-color: $heading-l-10;

  &:hover {
    color: $white;
    background-color: $heading-d-20;
    transition: background-color 0.1s ease-in;
  }
}


// ------------------------------------------------ \\
// $LABELS
// ------------------------------------------------ //

.btn-label-smd-bg {
  @extend %btn-label-smd-bg;
}

// Labels hover behavior
.btn-label-smd {
  @extend %btn-label-smd;
}