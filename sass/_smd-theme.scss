// ------------------------------------------------ \\
// $CUSTOM THEME
//
// Personalization patterns
// ------------------------------------------------
// Imported in `smd.scss`
// ------------------------------------------------ //


// ------------------------------------------------ \\
// $EXTENDABLES
// ------------------------------------------------ //

// Links and hover
%smd-link {
  color: $link-color;
  text-decoration: solid underline $link-decoration 4px;

  &:hover {
    color: $link-hover-color;
    text-decoration: solid underline $link-hover-decoration 4px;
    transition: text-decoration-color 0.2s ease-in;
  }
}

// Text shadow
%smd-tx-shadow {
  text-shadow: 0px 0px 0px #fff, 0 0 0 #000, 0px 1px 1px #fff;
}

// Labels bg
%btn-label-smd-bg {
  background-color: $background;

  &:hover {
    background-color: $background-d-70;
  }
}

// Labels hover behavior
%btn-label-smd {
  color: $link-d-70;
  background-color: $background-l-90;

  &:hover {
    color: $link-l-80 !important;
    transition: background-color 0.3s ease-in;
    background-color: $background-d-70;
  }
}


// ------------------------------------------------ \\
// $GENERAL
// ------------------------------------------------ //
html {
  border: 1rem solid $white;
}
body {
  background: $background-l-80 url('/assets/images/smd-bg-texture.jpg') no-repeat bottom left;
  background-size: 100% auto;
}


// ------------------------------------------------ \\
// $HEADINGS
// ------------------------------------------------ //
h2, h3, h4, h5, h6,
.h2, .h3, .h4, .h5, .h6 {
  margin-top: $spacer * 3;
}
h2, h3, h4, h5, h6,
.h2, .h3, .h4, .h5, .h6 {
  color: $heading-d-20;
}
h5, h6,
.h5, .h6 {
  text-transform: uppercase;
  letter-spacing: $letter-spacing-wide-1;
}


// ------------------------------------------------ \\
// $NAVIGATION
// ------------------------------------------------ //
.current {
  color: $link-d-40;
}
.previous-next-post-links {
  @extend %smd-tx-shadow;
}


// ------------------------------------------------ \\
// $TYPOGRAPHY
// ------------------------------------------------ //

%font-micro,
.font-micro {
  @include font-size($micro-font-size);
}


// ------------------------------------------------ \\
// $BACKGROUNDS
// ------------------------------------------------ //

%translucent-bg,
.translucent-bg {
  background: rgba($background-l-30, .3);
}


// ------------------------------------------------ \\
// $ENTRY
//
// Default container for posts and pages
// ------------------------------------------------ //

// Default entry font size
%entry-fs {
  font-size: rfs-fluid-value(20px);
}

// Default entry block
.entry {
  em {
    font-family: Georgia, 'Times New Roman', Times, serif;
  }
  // Entry block paragraphs
  p {
    text-align: justify;
    hyphens: auto;

    &:not(.lead) {
      @extend %entry-fs;
      line-height: 1.5;
      margin-bottom: 0;
      & + p {
        text-indent: $spacer*2;
      }
    }

    // Entry block lead paragraph
    &.lead {
      font-size: rfs-fluid-value(24px);
      line-height: 1.4;
      text-indent: 0;
      @include margin-top(32px);
      @include margin-bottom(32px);
    }

    // Entry block detached optional paragraph
    &.detached {
      text-indent: 0 !important;
      margin-top: $spacer*2;
    }
  }
  // Entry block blockquote
  blockquote {
    @extend .blockquote;
    width: 80%;
    quotes: "“" "”";
    line-height: 1.3;
    margin-top: $spacer*2;
    padding-left: $spacer*1.5;
    // border-left: 2px solid $background-d-10;
    background: transparent url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='9' height='100%'%3E%3Cpath d='M7.843 93.349c-.235 4.549-.47 9.098-.784 13.722-.47 6.216-1.02 12.433-1.569 18.65-.627 8.187-1.255 16.299-1.804 24.486-.392 5.837-.627 11.675-.94 17.512-.081.455-.159.834-.236 1.289-.55-.152-1.177-.152-1.57-.455-.313-.227-.548-.758-.626-1.137-.157-.91-.314-1.82-.314-2.653.078-4.928 0-9.931.314-14.86.784-13.72 1.647-27.367 2.51-41.088.235-4.473.627-8.946.784-13.343.235-6.823.392-13.646.47-20.47.079-7.58.157-15.237 0-22.818-.156-8.035-.705-16.071-1.02-24.183-.156-3.336-.234-6.671-.391-10.083-.236-4.927-.55-9.78-.863-14.707-.079-.758 0-1.478-.941-1.971C.655 1.13.691.175 1.02.103 1.804-.07 2.667.027 3.53.027 5.804.103 6.353.482 6.667 2.68c.392 2.578.549 5.23.784 7.885 0 0 .863 16.602 1.176 24.94.157 4.17.314 8.416.314 12.586-.078 4.7-.235 9.4-.392 14.1-.157 4.019-.47 7.96-.706 11.827v19.33z' fill='%23d4c0b5'/%3E%3C/svg%3E") top left no-repeat;
    &::before {
      content: open-quote;
      font-size: $spacer*2;
      line-height: 1;
      color: $background-d-10;
      font-weight: bolder;
    }
    p {
      display: inline;
      text-indent: 0;
      
      &:first-child {
        margin-bottom: $spacer;
      }

      cite {
        display: block;
        text-indent: 0;
        margin-top: $spacer/2;
        font-family: Georgia, 'Times New Roman', Times, serif;
      }
    }
  }
  // Entry block link
  a {
    @extend %smd-link;
  }
  ol {
    list-style: none;
    counter-reset: smd-counter 0;
    width: 80%;
    margin-top: $spacer*1.5;
    padding-left: $spacer;
    li {
      @extend %entry-fs;
      counter-increment: smd-counter;
      line-height: 1.6;
      hyphens: auto;
      padding-left: $spacer*.5;
      &::marker {
        font-family: $headings-font-family;
        content: counter(smd-counter) ".";
        color: $link-d-20;
        font-weight: bold;
      }
    }
  }
  // Entry block list element
  ul {
    margin: $spacer*1.5 0;

    li {
      @extend %entry-fs;
      line-height: 1.5;
      margin: 0;
    }
  }
  // Entry block mark element
  mark {
    &.highlight {
      display: inline-block;
      border-radius: 1em 0 1em 0;
      background-image: linear-gradient(-100deg, rgba(255,224,0,0.3), rgba(255,224,0,0.7) 95%, rgba(255,224,0,0.1));
    }
  }
}


// ------------------------------------------------ \\
// $BREADCRUMBS
// ------------------------------------------------ //

.breadcrumb-item {
  letter-spacing: $letter-spacing-shrink;

  &:last-child {
    color: #777;
  }

  a {
    color: $link-color;
    text-decoration: solid underline $link-l-30 2px;

    &:hover {
      color: $link-hover-color;
      text-decoration: solid underline $link-hover-decoration 2px;
      transition: text-decoration-color 0.2s ease-in;
    }
  }
}


// ------------------------------------------------ \\
// $IMAGES
// ------------------------------------------------ //

img {
  max-width: 100%;
  height: auto;
}
figure {
  margin: auto;
}
figcaption {
  @extend .initialism;
}
hr {
  width: $spacer*5;
  text-align: center;
  margin: $spacer*3 auto;
  
  &:not([size]) {
    height: 2px;
  }
}


// ------------------------------------------------ \\
// $LISTS
// ------------------------------------------------ //

.smd-ul {
  list-style-position: outside;
  margin: $spacer 0 $spacer*1.5 0;
  padding-left: $spacer;

  li {
    margin: .7rem 0;
    &::marker {
      color: $link-d-20;
    }
  }
}


// ------------------------------------------------ \\
// $EMBEDS
// ------------------------------------------------ //

.iframe-container {
  margin: ($spacer * 3) 0;
  padding-top: 56.25%; // 16:9 aspect ratio
  overflow: hidden;
  position: relative;

  iframe {
    border: 0;
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
  }
}
.twitter-tweet-rendered {
  margin-top: $spacer*3 !important;
}


// ------------------------------------------------ \\
// $NEWSLETTER
// ------------------------------------------------ //

.newsletter-subscription {
  // Inside the <header>
  .site-header & {
    padding-top: 0.5rem;
  }
}


// ------------------------------------------------ \\
// $HERO
// ------------------------------------------------ //

// Tagline
.smd-text-rotate {
  transform: rotate(359deg);
}


// ------------------------------------------------ \\
// $RELATED_POSTS
// ------------------------------------------------ //

.related-posts {
  @extend %translucent-bg;

  .h2 {
    @extend %smd-tx-shadow;
  }

  a {

    h4 {
      color: $link-d-70;
    }

    &:hover {
      color: $link-d-30;
      transition: color .2s ease-in;
      
      h4 {
        color: $link-d-30;
        transition: color .2s ease-in;
      }
    }
  }
}
.related-post {
  margin: 1.5rem 0;
  
  p {
    text-align: justify;
    hyphens: auto;
    margin-bottom: 0;
  }

  &:last-child {
    margin-bottom: 0;
  }
}


// ------------------------------------------------ \\
// $POST_META
// ------------------------------------------------ //

.post-taxonomy-label {
  @extend %btn-label-smd;
  font-size: $micro-font-size;
  padding: 0 0.4rem;
}


// ------------------------------------------------ \\
// $FOOTER
// ------------------------------------------------ //

.smd-footer-wrapper {
  background: rgba($background-l-30, .2);
}


// ------------------------------------------------ \\
// $BUTTONS
// ------------------------------------------------ //

// Default button
%btn-smd,
.btn-smd {
  color: $white;
  background-color: $heading-l-10;

  &:hover {
    color: $white;
    background-color: $heading-d-20;
    transition: background-color 0.1s ease-in;
  }
}


// ------------------------------------------------ \\
// $LABELS
// ------------------------------------------------ //

.btn-label-smd-bg {
  @extend %btn-label-smd-bg;
}

// Labels hover behavior
.btn-label-smd {
  @extend %btn-label-smd;
}